<html>
<head>

<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.min.js"></script>

<script>
//------------------------------------------------------------------------------------------------------
function ajax_post(){
    // Create our XMLHttpRequest object
    var hr = new XMLHttpRequest();
    // Create some variables we need to send to our PHP file
    var url = "server.php";
    var fn = document.getElementById("Velocity").value;
    var ln = document.getElementById("Angle").value;
    var vars = "Velocity="+fn+"&Angle="+ln;
    hr.open("POST", url, true);
    // Set content type header information for sending url encoded variables in the request
    hr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    // Access the onreadystatechange event for the XMLHttpRequest object
    hr.onreadystatechange = function() {
	    if(hr.readyState == 4 && hr.status == 200) {
		    var return_data = hr.responseText;
        phpdata = JSON.parse(return_data);
        console.log(phpdata);
        var vT = phpdata[0];
        var xT = phpdata[1];
        var yT = phpdata[2];

//*****************************************************************
var data = {
	  //  labels: ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"],
    labels: xT,
	    datasets: [
	        {
	          //  label: "The First Dataset",
	            fillColor: "rgba(153,0,76,0.2)", // magenta
	            strokeColor: "rgba(153,0,76,1)", // magenta
	            pointColor: "rgba(153,0,76,1)", // magenta
	            pointStrokeColor: "#fff", // white
	            pointHighlightFill: "#fff", // white
	            pointHighlightStroke: "rgba(153,0,76,1)", // magenta
              data: yT
          }
	    ]
	};
var option = {
  /*
  scales:{
    xAxes:[{
      stacked:false
    }]
  }
*/

legend: {
          display: false
       },

scales: {
       yAxes: [{
           display: true,
           ticks: {
               suggestedMin: 0,    // minimum will be 0, unless there is a lower value.
           }
       }]
   }

};




    var ctx = document.getElementById('myChart').getContext('2d');
    var myNewChart = new Chart(ctx).Line(data,option);





//*****************************************************************
  //   function createGraf(){
//     }



			document.getElementById("status").innerHTML = return_data;
      document.getElementById("header").innerHTML = "cas  \u00A0 \u00A0 \u00A0 \u00A0  poz x  \u00A0 \u00A0 \u00A0 \u00A0   \u00A0 \u00A0 \u00A0 \u00A0        poz  y ";
      //**********************************************************************************************************itt iratom ki a tomboket
      document.getElementById("zobrazT").innerHTML = vT;
      document.getElementById("zobrazX").innerHTML = xT;
      document.getElementById("zobrazY").innerHTML = yT;
  //    document.getElementById("myChart").innerHTML = ;
    //  document.getElementById("zobrazY").innerHTML = yT.join('<br/>');
	    }
    }
    // Send the data to PHP now... and wait for response to update the status div
    hr.send(vars); // Actually execute the request
    document.getElementById("status").innerHTML = "processing...";

}
//------------------------------------------------------------------------------------------------------
</script>
</head>
<body>
<h2>Projectile Motion</h2>
Velocity: <input id="Velocity" name="Velocity" type="text">  <br><br>
Angle: <input id="Angle" name="Angle" type="text"> <br><br>
<input name="myBtn" type="submit" value="Submit Data" onclick="ajax_post();"> <br><br>
<div id="status"></div>
<div id="header"></div>
<div id="zobrazT"></div>
<div id="zobrazX"></div>
<div id="zobrazY"></div>
<canvas id="myChart" height="400" width="1000"></canvas>


</body>
</html>
