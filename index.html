<html>
<head>
<script>
//------------------------------------------------------------------------------------------------------
function ajax_post(){
    // Create our XMLHttpRequest object
    var hr = new XMLHttpRequest();
    // Create some variables we need to send to our PHP file
    var url = "server.php";
    var fn = document.getElementById("Velocity").value;
    var ln = document.getElementById("Angle").value;
    var vars = "Velocity="+fn+"&Angle="+ln;
    hr.open("POST", url, true);
    // Set content type header information for sending url encoded variables in the request
    hr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    // Access the onreadystatechange event for the XMLHttpRequest object
    hr.onreadystatechange = function() {
	    if(hr.readyState == 4 && hr.status == 200) {
		    var return_data = hr.responseText;
        phpdata = JSON.parse(return_data);
        console.log(phpdata);
        var vT = phpdata[0];
        var xT = phpdata[1];
        var yT = phpdata[2];

// CREATE TABLE------------------------------------
function createTable(tableData) {
  var table = document.createElement('table');
  var tableBody = document.createElement('tbody');
 tableData.forEach(function(rowData) {
   var row = document.createElement('tr');
   rowData.forEach(function(cellData) {
    var cell = document.createElement('td');
    cell.appendChild(document.createTextNode(cellData));
    row.appendChild(cell);
   });
   tableBody.appendChild(row);
 });

 table.appendChild(tableBody);
 document.body.appendChild(table);
}
// CREATE TABLE------------------------------------


			document.getElementById("status").innerHTML = return_data;
      document.getElementById("T").innerHTML = createTable([[vT],[xT],[yT]]);
      //createTable([["row 1, cell 1", "row 1, cell 2"], ["row 2, cell 1", "row 2, cell 2"]]);
	    }
    }
    // Send the data to PHP now... and wait for response to update the status div
    hr.send(vars); // Actually execute the request
    document.getElementById("status").innerHTML = "processing...";

}
//------------------------------------------------------------------------------------------------------
</script>
</head>
<body>
<h2>Projectile Motion</h2>
Velocity: <input id="Velocity" name="Velocity" type="text">  <br><br>
Angle: <input id="Angle" name="Angle" type="text"> <br><br>
<input name="myBtn" type="submit" value="Submit Data" onclick="ajax_post();"> <br><br>
<div id="status"></div>
<div id="T"></div>


</body>
</html>
